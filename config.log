

[1mBeginning JFrog Artifactory setup[0m

[DEBUG] Method docker_doValidations Caller:5370 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Validating System requirements

[38;5;197m[ERROR[0m[38;5;197m] [0mThis script must be run as root or with sudo

[1mBeginning JFrog Artifactory setup[0m


[DEBUG] Method docker_doValidations Caller:5370 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.7, build afdd53b
docker-compose version 1.29.2, build unknown

[DEBUG] All validations successful

[DEBUG] Method docker_hook_preUserInputs

[DEBUG] Method docker_getUserInputs Caller:5380 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_getUserInputs Caller:5274 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_createInstallerYaml Caller:3965 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Creating file: [/mnt/samsung/code/artifactory/artifactory-oss/installer.yaml]

[DEBUG] Method wrapper_setSystemValue Caller:2861 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.ha with n in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method wrapper_hook_setInstallerDefaults Caller:2867 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:5200 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.data_dir with /root/.jfrog/artifactory in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method docker_hook_setInstallerDefaults

[DEBUG] Method wrapper_setSystemValue Caller:2869 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.node.ip with 127.0.0.1 in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method wrapper_setSystemValue Caller:2872 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.install_postgresql with y in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method wrapper_hook_start_getUserInputs Caller:3968 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_askUser Caller:5210 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Installation Directory (Default: /root/.jfrog/artifactory): 
[DEBUG] Setting installer.data_dir with /root/.jfrog/artifactory in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method docker_getSystemValue Caller:5212 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.data_dir]

[DEBUG] Method: wrapper_hook_start_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog/artifactory]

[DEBUG] Validating system.yaml

[DEBUG] Skipping system.yaml validation since system.yaml file [/root/.jfrog/artifactory/var/etc/system.yaml] was not found

Running system diagnostics checks, logs can be found at [/mnt/samsung/code/artifactory/artifactory-oss/systemDiagnostics.log]
[ERROR] Router external port (8082) is being used by another process
[ERROR] Artifactory port (8081) is being used by another process

[1;31m[WARN[0m[1;31m] [0mOne or more system diagnostic checks have failed, check [/mnt/samsung/code/artifactory/artifactory-oss/systemDiagnostics.log] for additional details

[DEBUG] Method docker_triggerMigration Caller:5244 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Triggering migration script. This will migrate if needed and may take some time.

Migration logs will be available at [/mnt/samsung/code/artifactory/artifactory-oss/bin/migration.log]. The file will be archived at [/root/.jfrog/artifactory/var/log] after installation

[DEBUG] Method docker_postMigration_hook

[DEBUG] Method _askForMandatoryInputs Caller:3970 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _getHostIpIfAvailable Caller:3975 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_askUser Caller:3979 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

For IPv6 address, enclose value within square brackets as follows : [<ipv6_address>]
Please specify the IP address of this machine (Default: 127.0.0.1): 
[DEBUG] Setting installer.node.ip with 127.0.0.1 in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method _updateFromSystemYaml Caller:3987 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _getHAModeIfAvailable Caller:3989 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_askUser Caller:3990 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Are you adding an additional node to an existing product cluster? [y/N]: 
[DEBUG] Setting installer.ha with n in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method wrapper_standalone_hook_getUserInputs (unimplemented)

[DEBUG] Method _askForDBInputs Caller:4019 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _getDatabaseType Caller:3883 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _askPostgresDetails Caller:3886 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_askUser Caller:3537 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

The installer can install a PostgreSQL database, or you can connect to an existing compatible PostgreSQL database
(https://service.jfrog.org/installer/System+Requirements#SystemRequirements-RequirementsMatrix)
If you are upgrading from an existing installation, select N if you have externalized PostgreSQL, select Y if not.
Do you want to install PostgreSQL? [Y/n]: 
[DEBUG] Setting installer.install_postgresql with y in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Setting shared.database.type with postgresql in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method _updateFromSystemYaml Caller:2980 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_askUser Caller:2982 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

To setup PostgreSQL, please enter a password
database password: 


[DEBUG] Setting shared.database.password with __sensitive_key_hidden___ in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml
confirm database password: 

[DEBUG] Method wrapper_setSystemValue Caller:2974 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting shared.database.password with __sensitive_key_hidden___ in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method wrapper_hook_askExtraPostgresDetails (unimplemented)

[DEBUG] Method wrapper_hook_getUserInputs (unimplemented)

[DEBUG] Method wrapper_hook_setRedisPassword (unimplemented)

[DEBUG] Method docker_getSystemValue Caller:5278 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.data_dir]

[DEBUG] Method: docker_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog/artifactory]

[DEBUG] Method docker_getSystemValue Caller:5285 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method: docker_getUserInputs. JF_NODE_TYPE is now [standalone]

[DEBUG] Method docker_getSystemValue Caller:5295 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.jfrogUrl]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_JFROGURL is now []

[DEBUG] Method docker_getSystemValue Caller:5299 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.pdnServerUrl]

[DEBUG] Method: docker_getUserInputs. JF_PDNNODE_PDNSERVERURL is now []

[DEBUG] Method docker_getSystemValue Caller:5303 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.security.joinKey]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_SECURITY_JOINKEY is now []

[DEBUG] Method docker_getSystemValue Caller:5307 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method: docker_getUserInputs. IS_POSTGRES_REQUIRED is now [y]

[DEBUG] Method docker_getSystemValue Caller:5311 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.node.ip]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_NODE_IP is now [127.0.0.1]

[DEBUG] Method docker_hook_getUserInputs_post

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_updateFromYaml Caller:5385 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4366 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_elasticsearch]

[DEBUG] Method docker_setupModeSpecificVar. IS_ELASTICSEARCH_REQUIRED is now []

[DEBUG] PROJECT_ROOT_FOLDER is [artifactory]

[DEBUG] Method docker_setDirInfo Caller:5392 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Root Directory being used is: /root/.jfrog/artifactory

[DEBUG] Method docker_hook_setDirInfo

[DEBUG] Method docker_createDirectories Caller:5396 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/data]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/security]

[DEBUG] Method docker_hook_createDirectories

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/artifactory]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/artifactory

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/artifactory]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat/lib]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat/lib

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/artifactory/tomcat/lib]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/access]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/access

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/access]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/access/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/access/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/access/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/bootstrap/access/etc/security]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/bootstrap/access/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/bootstrap/access/etc/security]

[DEBUG] Value of [FIRST_SETUP] is []

[DEBUG] Method docker_setRootDirPermissions Caller:5400 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method docker_createThirdPartyDir Caller:5404 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

Creating third party directories (if necessary)

[DEBUG] Method io_createPostgresDir Caller:4647 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/postgres] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/postgres/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/postgres/data

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/artifactory/var/data/postgres]

[DEBUG] Method io_createNginxDir Caller:4648 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/nginx] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/nginx

[DEBUG] Method io_setOwnership. Executing [chown -R 104:107 /root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Method io_createElasticSearchDir Caller:4649 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRedisDir Caller:4650 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method io_createMongoDir Caller:4651 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRabbitMQDir Caller:4652 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _updateFromSystemYaml Caller:3571 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _getDatabaseType Caller:3576 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:3593 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.postgresql_version with 13-10v in /mnt/samsung/code/artifactory/artifactory-oss/installer.yaml

[DEBUG] Method docker_createSystemYaml Caller:5410 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.node.ip] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.ip with 127.0.0.1 in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.id with vault.thecodemountains.com in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.name with vault in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting router.entrypoints.externalPort with 8082 in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4844 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.type]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.type] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.type with postgresql in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4845 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.driver]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.driver] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4846 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.url]

[DEBUG] Key: KEY_DATABASE_URL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4847 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.username]

[DEBUG] Key: KEY_DATABASE_USERNAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4848 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.password with __sensitive_key_hidden___ in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4849 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.elasticsearch.username]

[DEBUG] Key: KEY_ELASTICSEARCH_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4850 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.elasticsearch.password]

[DEBUG] Key: KEY_ELASTICSEARCH_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4851 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_NAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4852 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_IP not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4853 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.redis.password]

[DEBUG] Key: KEY_REDIS_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4854 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.password]

[DEBUG] Key: KEY_RABBITMQ_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4855 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.pdnServerUrl]

[DEBUG] Key: KEY_PDNNODE_PDNSERVERURL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4856 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.joinKey]

[DEBUG] Key: KEY_PDNNODE_JOINKEY not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4857 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.selfGrpcAddress]

[DEBUG] Key: KEY_PDNNODE_SELFGRPCADDRESS not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4858 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.selfHttpAddress]

[DEBUG] Key: KEY_PDNNODE_SELFHTTPADDRESS not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4859 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.port]

[DEBUG] Key: KEY_PDNNODE_PORT not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4860 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.httpPort]

[DEBUG] Key: KEY_PDNNODE_HTTPPORT not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4861 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnNode.httpBouncerPort]

[DEBUG] Key: KEY_PDNNODE_HTTPBOUNCERPORT not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4862 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[pdnServer.selfAddress]

[DEBUG] Key: KEY_PDNSERVER_SELFADDRESS not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4863 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[router.entrypoints.externalPort]

[DEBUG] Key: KEY_ROUTER_ENTRYPOINTS_EXTERNALPORT not applicable

[DEBUG] Method docker_getSystemValue Caller:4865 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.security.masterKey]

[DEBUG] Method docker_addToEnvFile Caller:4873 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Replacing [ROOT_DATA_DIR] in /mnt/samsung/code/artifactory/artifactory-oss/.env

[DEBUG] Replaced [ROOT_DATA_DIR=.*] with [ROOT_DATA_DIR=/root/.jfrog/artifactory] in [/mnt/samsung/code/artifactory/artifactory-oss/.env]

[DEBUG] Method docker_hook_postSystemYamlCreation

[DEBUG] Method _getDatabaseType Caller:37 ./config.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.username with artifactory in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.url with __sensitive_key_hidden___ in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4886 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method docker_setSystemValue. Setting [installer.ha] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.ha with n in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4886 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method docker_setSystemValue. Setting [installer.install_postgresql] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.install_postgresql with y in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4886 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4787 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method docker_setSystemValue. Setting [installer.postgresql_version] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.postgresql_version with 13-10v in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method docker_hook_copyComposeFile

[DEBUG] Method docker_getSystemValue Caller:4899 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method _getDatabaseType Caller:4953 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4959 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

Attempting to seed PostgreSQL. This may take some time.
Creating network "rt-postgres_default" with the default driver
Creating postgresql ... 
Creating postgresql ... done

Successfully seeded PostgreSQL

[DEBUG] Copying [/mnt/samsung/code/artifactory/artifactory-oss/templates/docker-compose.yaml] as [/mnt/samsung/code/artifactory/artifactory-oss/docker-compose.yaml]

[DEBUG] Method docker_hook_setupThirdParty

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_configureLogRotation Caller:5425 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method _addLogRotateBinary Caller:5187 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method configureLogRotation Caller:5188 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Configuring log rotation as user [1030], group [1030], effective cron User [root]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory]

[DEBUG] Attempting to create /root/.jfrog/artifactory

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log/archived]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log/archived

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log/archived]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/logrotate

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Method createFile [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addLogRotateConfiguration Caller:1232 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Adding logrotate configuration for [/root/.jfrog/artifactory/var/log/console.log] to [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addCronJobForLogrotate Caller:1233 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method removeLogRotation Caller:1155 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_showSuccessMessage Caller:5431 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method docker_hook_productSpecificComposeHelp

[1mDocker setup complete[0m

Installation directory: [/root/.jfrog/artifactory] contains data and configurations.

Use docker-compose commands to start the application. Once the application has started, it can be accessed at [http://127.0.0.1:8082]

[1mExamples:[0m
cd /mnt/samsung/code/artifactory/artifactory-oss


start postgresql:    docker-compose -p rt-postgres -f docker-compose-postgres.yaml up -d
stop  postgresql:    docker-compose -p rt-postgres -f docker-compose-postgres.yaml down
start:               docker-compose -p rt up -d
stop:                docker-compose -p rt down

[1mNOTE:[0m The compose file uses several environment variables from the .env file. Remember to run from within the [/mnt/samsung/code/artifactory/artifactory-oss] folder

[DEBUG] Method docker_cleanup Caller:5435 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_removeInstallerYaml Caller:5010 /mnt/samsung/code/artifactory/artifactory-oss/bin/dockerComposeHelper.sh

[DEBUG] Removing file: [/mnt/samsung/code/artifactory/artifactory-oss/installer.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/log/config.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/log/migration.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.basic-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.full-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/log/systemDiagnostics.log]

[1mDone[0m

